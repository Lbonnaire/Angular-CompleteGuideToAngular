import{a as K,b as Q}from"./chunk-7COBIBSO.js";import{a as J}from"./chunk-5S2S5UOJ.js";import{b as X}from"./chunk-7HPNCYCM.js";import{a as h}from"./chunk-2U7C6UGE.js";import{$ as S,E as p,F as l,K as c,L as D,M as g,N as o,O as n,P as d,Q as I,S as f,T as k,W as s,ga as H,ha as R,ia as j,j as M,k as L,ka as E,la as N,ma as O,na as V,o as F,oa as P,p as m,pa as z,qa as B,r as T,ra as W,s as C,sa as q,t as u,ta as G,ua as x,va as U,w,x as y,z as A,za as Y}from"./chunk-PY2CLCYS.js";function ae(t,e){t&1&&d(0,"span",13)}var ce=()=>["/recipes"];function se(t,e){t&1&&(o(0,"a",9),s(1,"Recipes"),n()),t&2&&c("routerLink",S(1,ce))}var pe=()=>["/auth"];function le(t,e){t&1&&(o(0,"a",9),s(1,"Authenticate"),n()),t&2&&c("routerLink",S(1,pe))}function me(t,e){if(t&1){let b=I();o(0,"li")(1,"a",14),f("click",function(){w(b);let i=k();return y(i.onLogout())}),s(2,"Logout"),n()()}}function ue(t,e){if(t&1){let b=I();o(0,"li",15)(1,"a",16),s(2,"Manage "),d(3,"span",17),n(),o(4,"ul",18)(5,"li")(6,"a",14),f("click",function(){w(b);let i=k();return y(i.onSaveData())}),s(7," Save Data"),n()(),o(8,"li")(9,"a",14),f("click",function(){w(b);let i=k();return y(i.onFetchData())}),s(10," Fetch Data"),n()()()()}}var de=()=>[1,2,3],fe=()=>["/shopping-list"],$=(()=>{let e=class e{constructor(r,i,a,v){this.router=r,this.route=i,this.dataStorageServ=a,this.authService=v,this.collapsed=!0,this.selected="",this.isAuthenticated=!1}onSaveData(){this.dataStorageServ.storeRecipes()}onFetchData(){this.dataStorageServ.fetchRecipes().subscribe()}ngOnInit(){this.userSub=this.authService.user.subscribe(r=>{this.isAuthenticated=!!r,console.log(!r),console.log(!!r)})}ngOnDestroy(){this.userSub.unsubscribe()}onLogout(){this.authService.logout()}};e.\u0275fac=function(i){return new(i||e)(l(B),l(P),l(Q),l(h))},e.\u0275cmp=C({type:e,selectors:[["app-header"]],decls:19,vars:10,consts:[[1,"navbar","navbar-default"],[1,"container-fluid"],[1,"navbar-header"],["type","button",1,"navbar-toggle",3,"click"],["class","icon-bar",4,"ngFor","ngForOf"],["routerLink","/",1,"navbar-brand"],[1,"navbar-collapse",3,"resize"],[1,"nav","navbar-nav"],["routerLinkActive","active",3,"routerLink",4,"ngIf"],["routerLinkActive","active",3,"routerLink"],[1,"nav","navbar-nav","navbar-right"],[4,"ngIf"],["class","dropdown","appDropdown","",4,"ngIf"],[1,"icon-bar"],[2,"cursor","pointer",3,"click"],["appDropdown","",1,"dropdown"],["role","button",1,"dropdown-toggle",2,"cursor","pointer"],[1,"caret"],[1,"dropdown-menu"]],template:function(i,a){i&1&&(o(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),f("click",function(){return a.collapsed=!a.collapsed}),g(4,ae,1,0,"span",4),n(),o(5,"a",5),s(6,"Recipe Book"),n()(),o(7,"div",6),f("resize",function(){return a.collapsed=!0},!1,A),o(8,"ul",7)(9,"li"),g(10,se,2,2,"a",8),n(),o(11,"li"),g(12,le,2,2,"a",8),n(),o(13,"li")(14,"a",9),s(15,"Shopping List"),n()()(),o(16,"ul",10),g(17,me,3,0,"li",11)(18,ue,11,0,"li",12),n()()()()),i&2&&(p(4),c("ngForOf",S(8,de)),p(3),D("collapse",a.collapsed),p(3),c("ngIf",a.isAuthenticated),p(2),c("ngIf",!a.isAuthenticated),p(2),c("routerLink",S(9,fe)),p(3),c("ngIf",a.isAuthenticated),p(1),c("ngIf",a.isAuthenticated))},dependencies:[H,R,W,q,U]});let t=e;return t})();var ee=(()=>{let e=class e{constructor(r,i){this.authService=r,this.loggingService=i}ngOnInit(){this.authService.autoLogin(),this.loggingService.printLog("Hello from AppComponent NgOnInit"),console.log("test")}};e.\u0275fac=function(i){return new(i||e)(l(h),l(J))},e.\u0275cmp=C({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12"]],template:function(i,a){i&1&&(d(0,"app-header"),o(1,"div",0)(2,"div",1)(3,"div",2),d(4,"router-outlet"),n()()())},dependencies:[z,$]});let t=e;return t})();var ve=[{path:"",redirectTo:"/recipes",pathMatch:"full"},{path:"recipes",loadChildren:()=>import("./chunk-D2HNR5G4.js").then(t=>t.RecipesModule)},{path:"shopping-list",loadChildren:()=>import("./chunk-F7MOMHPQ.js").then(t=>t.ShoppingModule)},{path:"auth",loadChildren:()=>import("./chunk-7JGBJODB.js").then(t=>t.AuthModule)}],te=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=u({type:e}),e.\u0275inj=m({imports:[x.forRoot(ve,{preloadingStrategy:G}),x]});let t=e;return t})();var ie=(()=>{let e=class e{constructor(r){this.authService=r}intercept(r,i){return console.log("in interceptor"),console.log(this.authService.user.getValue()),this.authService.user.pipe(M(1),L(a=>{if(!a)return i.handle(r);let v=r.clone({params:new j().set("auth",a.token)});return i.handle(v)}))}};e.\u0275fac=function(i){return new(i||e)(T(h))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();var re=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=u({type:e}),e.\u0275inj=m({providers:[X,K,{provide:E,useClass:ie,multi:!0}]});let t=e;return t})();var oe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=u({type:e,bootstrap:[ee]}),e.\u0275inj=m({imports:[V,N,te,Y,re]});let t=e;return t})();O().bootstrapModule(oe).catch(t=>console.error(t));
